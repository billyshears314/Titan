<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
 
</head>
<body>

<board>

<div ng-app="" ng-controller="creaturesOnBoardController">		
		
			<div id="board" style="margin-top:60px">			

			<span style="position:absolute;top:190px; left:0px">Player: {{playerNumber}}</span>
			<!--<button type="button" id="battle_button" style="position:absolute;top:40px;left:0px">Battle</button><br>-->
			<button type="button" id="confirm_button" class="btn btn-success" style="position:absolute;top:220px; left:0px">Confirm</button>
			<button type="button" id="concede_button" class="btn btn-danger" style="position:absolute;top:260px; left:0px">Concede Battle</button>
			
			<button type="button" id="reset" class="btn btn-primary" style="position:absolute;top:120px; left:635px">Reset</button>
			<button type="button" id="undo" class="btn btn-primary" style="position:absolute;top:160px; left:635px">Undo</button>			
			
			<span id="whosmove" style="position:absolute;top:100px;left:0px;font-size:20px"></span>
			<span style="position:absolute;top:130px;left:0px;font-size:17px">Turn: <img id="arrow" src="images/black_arrow.png" style="width:18px; height:18px"></img>{{turn}}</span>
			<span style="position:absolute;top:160px;left:0px;font-size:17px">{{phase}} Phase</span>				
				
				<div style="position:relative">
				
				<div id="defenderStartingArea" style="position:absolute;top:-70px">
				<% for(var i=0; i<7; i++){ %>
				
				<div class="defenderStartingSpot" style="border-style:solid;z-index:1;border-width:2px;height:82px; width:82px;background-color:#999999;position:relative;float:left;margin-right:15px">
								
					<button type="button" id="defenderStartingSpot<%=i%>" class="btn btn-default add_creature_button" data-toggle="modal" data-target=".add_creature_modal" style="position:relative;z-index:3;padding:1px">
						<span class="glyphicon glyphicon-plus"></span>
					</button>
				
					<img id="defendWaitingImage<%=i%>" class="defendWaitingImage waitingImage" src="images/TitanImages/{{defenderarmy[<%=i%>].name}}.jpg" width=78 height=78 style="position:absolute;top:0px;left:0px;z-index:2"></img>
					
				</div>
					
					<% } %>				
								
				</div>
				
				</div>				
				
				<div id="row1" class="row">
				<% for(var i=0; i<3; i++){ %>
					<div>
				<span id="id<%=i%>" class ="space">
					&#x2B22;
					<div class="target_area" >
						<img class="creatureOnTarget" id="creature<%=i%>" src="images/TitanImages/{{space[<%=i%>].name}}.jpg" width=72; height=72></img>					
						<span id="blood<%=i%>" style="position:absolute;color:black;display:block;z-index:2;font-size:17px;color:red;font-weight:bold">{{space[<%=i%>].blood}}</span>				
					</div>
				</span>
				
					</div>
				<% } %>
				</div>
				
				<div id="row2" class="row">
					
				<% for(var i=3; i<7; i++){ %>
				<span id="id<%=i%>" class ="space">
					&#x2B22;
					<div class="target_area">
						<img class="creatureOnTarget" id="creature<%=i%>" src="images/TitanImages/{{space[<%=i%>].name}}.jpg" width=72; height=72></img>
						<span id="blood<%=i%>" style="position:absolute;color:black;display:block;z-index:2;font-size:17px;color:red;font-weight:bold">{{space[<%=i%>].blood}}</span>					
					</div>
				</span>
				<% } %>
				</div>
				
				<div id="row3" class="row">
				<% for(var i=7; i<12; i++){ %>
				<span id="id<%=i%>" class ="space">
					&#x2B22;
					<div class="target_area">
						<img class="creatureOnTarget" id="creature<%=i%>" src="images/TitanImages/{{space[<%=i%>].name}}.jpg" width=72; height=72></img>
						<span id="blood<%=i%>" style="position:absolute;color:black;display:block;z-index:2;font-size:17px;color:red;font-weight:bold">{{space[<%=i%>].blood}}</span>														
					</div>
				</span>
				<% } %>
				</div>
			
				<div id="row4" class="row">
				<% for(var i=12; i<18; i++){ %>
				<span id="id<%=i%>" class ="space">
					&#x2B22;
					<div class="target_area">
						<img class="creatureOnTarget" id="creature<%=i%>" src="images/TitanImages/{{space[<%=i%>].name}}.jpg" width=72; height=72></img>	
						<span id="blood<%=i%>" style="position:absolute;color:black;display:block;z-index:2;font-size:17px;color:red;font-weight:bold">{{space[<%=i%>].blood}}</span>													
					</div>
				</span>
				<% } %>
				</div>
				
				<div id="row5" class="row">
				<% for(var i=18; i<23; i++){ %>
				<span id="id<%=i%>" class ="space">
					&#x2B22;
					<div class="target_area">
						<img class="creatureOnTarget" id="creature<%=i%>" src="images/TitanImages/{{space[<%=i%>].name}}.jpg" width=72; height=72></img>
						<span id="blood<%=i%>" style="position:absolute;color:black;display:block;z-index:2;font-size:17px;color:red;font-weight:bold">{{space[<%=i%>].blood}}</span>														
					</div>
				</span>
				<% } %>
				</div>
				
				<div id="row6" class="row">
				<% for(var i=23; i<27; i++){ %>
				<span id="id<%=i%>" class ="space">
					&#x2B22;
					<div class="target_area">
						<img class="creatureOnTarget" id="creature<%=i%>" src="images/TitanImages/{{space[<%=i%>].name}}.jpg" width=72; height=72></img>
						<span id="blood<%=i%>" style="position:absolute;color:black;display:block;z-index:2;font-size:17px;color:red;font-weight:bold">{{space[<%=i%>].blood}}</span>														
					</div>
				</span>
				<% } %>
				</div>
				
				<div style="position:relative">
				
				<div id="attackerStartingArea" style="position:absolute;top:80px">
				<% for(var i=0; i<7; i++){ %>
				
				<div class="attackerStartingSpot" style="margin-bottom:60px;border-style:solid;z-index:1;border-width:2px;height:82px; width:82px;background-color:#999999;position:relative;float:left;margin-right:15px">
								
					<button type="button" id="attackerStartingSpot<%=i%>" class="btn btn-default add_creature_button" data-toggle="modal" data-target=".add_creature_modal" style="position:relative;z-index:3;padding:1px">
						<span class="glyphicon glyphicon-plus"></span>
					</button>
				
					<img id="attackWaitingImage<%=i%>" class="attackWaitingImage waitingImage" src="images/TitanImages/{{attackerarmy[<%=i%>].name}}.jpg" width=78 height=78 style="position:absolute;top:0px;left:0px;z-index:2"></img>
					
				</div>
				
				<% } %>				
				
				</div>
				
				<div style="position:absolute;top:180px"">
				
					<i>Instructions currently being edited.  There are also some bugs in the code being worked on.</i>
					<h2>Instructions</h2>								
					
					<p>This game is to represent a battle in the board game Titan.  In the actual game of Titan, battles are
					just a subset of the entire game.  There is also a masterboard, but battles are complex enough for now
					to program.</p>					
					
					<p>This game requires two browsers to be open up on this page, one for each player.  The server 
					automatically assigns the first client as player 1 (the defender) and the second client as 
					player 2 (the attacker).</p>
				
					<p>Game flow is somewhat similar to a baseball game, with 7 rounds or innings opposed to 9. 
					Each round has two parts, a top and a bottom.  The top comes first and then the bottom, 
					just like in baseball.  The top part is the defender's turn and the bottom part is the attacker's turn.  
					Each top/bottom of a round or "inning" has three different phases: a movement phase, an attack phase,
					and a retaliation phase.</p>
					
					<p>For example, if it is the top of the 3rd, player 1 (the defender) would decide to move it's pieces, by dragging
					and dropping them.  Then player 1 will press "confirm." Then if player 2 (the attacker) has any creatures next to any defender creatures, the attacker 
					will then attack them.  Then the defending creatures that are next to the attacking creatures will retaliate
					by attacking them back (even if the defending creature has just died).</p>
					
					<p>To setup the game, one player, player 1 presses a "+" button, selects a creature and then presses "Add Creature."
					Player 1 does this for both the defender (on the top) and the attacker (on the bottom).  After all  the creatures that are
					in the battle have been added, player 1 then presses "Confirm" on the left hand side. </p> 
					
					<p>Now the game officially begins.</p>
					
					<h3>Order of Steps</h3>
					<ul>
						<li><strong>Movement Phase</strong></li>
						<li>Drag Pieces on to steps (Press undo to reset location of last creature moved, press reset to put all of them back)</li>
						<li>Press "confirm"</li>	
						<li><strong>Attack Phase</strong></li>	
						<li>If you have creatures next to opponent creatures, they should be highlighted in green.  Select one of them.  It should bolden, 
						then select an opponent in red, a dice roll will be simulated, the resulting blood will be updated.</li>
						<li>Press "confirm"</li>
						<li><strong>Retaliation Phase</strong></li>
						<li>Same as attack phase, but for the opposite player
						<li>Press "confirm"</li>				
					</ul>
					
				</div>
				
				<h3>How dice rolls work</h3>
				
				<p>You take the skill power which is the number in the lower left hand corner of the creature, this is the number of dice it rolls
				when attacking and also the number of hit points it has for defending.  The lower right and number is the skill factor which determines
				the speed of the creature when moving and also what numbers hit when you are attacking or being attacked.  For
				example, a creature with a skill factor of 2 going against a creature with a skill factor of 2 will hit on 4's, 5's, and 6's.  
				A creature with a skill factor of 3 going against a creature with a skill factor of 2 will hit on 3's, 4's, 5, and 6's.  
				A creature with a skill factor of 4 going against a creature with a skill factor of 2 will hit on 2's, 3's, 4's, 5's, and 6's.
				A creature with a skill factor of 2 going against a creature with a skill factor of 4 will hit only on 6's.  So it's better to have
				a larger skill factor.</p>
				<!--
		
					<div style="position:absolute;top:180px">
					
							<div class="col-md-6">				
							<h5>Spaces</h5>
							<ul>
			  					<li ng-repeat="s in space">
			   		 		<b>{{s.id}}:</b> {{s.name + ', '+ s.army.allegiance +', ' + s.army.index + ', ' + s.blood + ', ' + s.player }}
			 		   		</li>
							</ul>
							
							</div>	
						
							<div class="col-md-6">				
							<h5>Attacker Army</h5>
							<ul>
			  					<li ng-repeat="a in attackerarmy">
			   		 		{{a.name + ', ' + a.startinglocation + ', ' + a.canMove + ', ' + a.location }}
			 		   		</li>
							</ul>
							
							</div>
							
							<div class="col-md-6">				
							<h5>Defender Army</h5>
							<ul>
			  					<li ng-repeat="d in defenderarmy">
			   		 		{{d.name + ', ' + d.startinglocation + ', ' + d.canMove + ', ' + d.location }}
			 		   		</li>
							</ul>
							
							</div>				
						
					</div>
								
				-->
		
				</div>

			<!--board-->
			</div>
		<!--controller-->
		</div>	

</board>

